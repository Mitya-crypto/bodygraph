# üó∫Ô∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MapBox Geocoding API v6

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è?

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å MapBox Geocoding API v6 –Ω—É–∂–µ–Ω **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω** - `Default public token`.

## üöÄ –ü–æ—à–∞–≥–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ MapBox
1. **–û—Ç–∫—Ä–æ–π—Ç–µ**: https://www.mapbox.com/
2. **–ù–∞–∂–º–∏—Ç–µ**: "Sign up" (—Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞)
3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É**:
   - Email: –≤–∞—à_email@example.com
   - Password: –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å
   - Username: –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email** (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É)

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
1. **–í–æ–π–¥–∏—Ç–µ** –≤ –∞–∫–∫–∞—É–Ω—Ç MapBox
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ**: Account ‚Üí Access tokens
3. **–ù–∞–π–¥–∏—Ç–µ**: "Default public token"
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk.`)

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env.local
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ:
```bash
MAPBOX_ACCESS_TOKEN=pk.–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
node test-mapbox-simple.js

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (Yandex + MapBox)
node test-yandex-api.js
```

## üìä –ß—Ç–æ –¥–∞–µ—Ç MapBox —Ç–æ–∫–µ–Ω?

| API | –õ–∏–º–∏—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----|-------|------------|
| **Geocoding API** | 1,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É | –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ |
| **Geocoding API** | 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| Vector Tiles API | 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É | –ö–∞—Ä—Ç—ã (–Ω–µ –Ω—É–∂–µ–Ω) |
| Raster Tiles API | 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É | –ö–∞—Ä—Ç—ã (–Ω–µ –Ω—É–∂–µ–Ω) |

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤:
```
GET https://api.mapbox.com/search/geocode/v6/forward
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `q` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `access_token` - –≤–∞—à —Ç–æ–∫–µ–Ω
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–º–∞–∫—Å. 10)
- `types=place` - —Ç–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥–∞
- `language=ru,en` - —è–∑—ã–∫–∏ –æ—Ç–≤–µ—Ç–∞

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```bash
curl "https://api.mapbox.com/search/geocode/v6/forward?q=London&access_token=pk.–≤–∞—à_—Ç–æ–∫–µ–Ω&limit=3&types=place&language=ru,en"
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ:
- ‚úÖ **1,000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É** –¥–ª—è –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ **100,000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–µ—Å—è—Ü** –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ **–û—Ç–ª–∏—á–Ω—ã–π –ø–æ–∏—Å–∫** –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞** —Å Yandex Geocoder

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### 401 Unauthorized
```
‚ùå MapBox API: Invalid access token (401)
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ `.env.local`

### 429 Rate Limit Exceeded
```
‚ùå MapBox API: Rate limit exceeded (429)
```
**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥–æ–∂–¥–∏—Ç–µ –º–∏–Ω—É—Ç—É, –ª–∏–º–∏—Ç 1,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É

### 403 Forbidden
```
‚ùå MapBox API: Forbidden (403)
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ MapBox

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **MapBox Dashboard**: https://account.mapbox.com/
- **API Documentation**: https://docs.mapbox.com/api/search/geocoding/
- **Playground**: https://docs.mapbox.com/api/search/geocoding/#geocoding-api-playground
- **Pricing**: https://www.mapbox.com/pricing

## üéØ –ò—Ç–æ–≥

**–û–¥–∏–Ω —Ç–æ–∫–µ–Ω MapBox = –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –Ω—É–∂–Ω—ã–º API –¥–ª—è –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤!**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- üá∑üá∫ **Yandex Geocoder** –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ (25k/–¥–µ–Ω—å)
- üåç **MapBox v6** –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ (100k/–º–µ—Å—è—Ü)
- üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä** –ª—É—á—à–µ–≥–æ API –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
