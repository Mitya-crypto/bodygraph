<style>
  body { font-family: sans-serif; padding: 16px; }
  input { display: block; width: 90%; padding: 8px; margin-top: 4px; margin-bottom: 12px; }
  button { width: 100%; padding: 10px; background-color: #0d99ff; color: white; border: none; border-radius: 4px; cursor: pointer; }
  button:hover { background-color: #007be5; }
</style>

<h2>Создать натальную карту</h2>

<label for="date">Дата рождения:</label>
<input type="date" id="date" value="1988-12-03">

<label for="time">Время рождения:</label>
<input type="time" id="time" value="03:30">

<button id="create">Создать карту</button>

<script>
  document.getElementById('create').onclick = () => {
    const date = document.getElementById('date').value;
    const time = document.getElementById('time').value;
    
    // Отправляем данные в основной скрипт плагина
    parent.postMessage({ pluginMessage: { type: 'generate-chart', data: { date, time } } }, '*');
  }

  // Слушаем ответ от основного скрипта
  onmessage = (event) => {
    if (event.data.pluginMessage === 'chart-created') {
      // Можно показать сообщение об успехе, но пока просто закроем плагин
    }
  }
</script>
