# n8n ChatGPT Workflow Setup

## üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å workflow'—ã –≤ n8n –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ ChatGPT –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–∞—à–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ OpenAI.

## üîß Workflow 1: –ë–∞–∑–æ–≤—ã–π ChatGPT (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Workflow
1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π workflow
3. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ "ChatGPT Basic"

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–∑–ª–æ–≤

#### Webhook Trigger
- **URL**: `/webhook/chatgpt-basic`
- **Method**: POST
- **Response**: JSON

#### OpenAI Node (GPT-3.5)
- **Model**: gpt-3.5-turbo
- **Max Tokens**: 300
- **Temperature**: 0.7
- **System Message**: 
```
–¢—ã –±–∞–∑–æ–≤—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ BodyGraph. –ü–æ–º–æ–≥–∞–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –ø—Ä–æ—Å—Ç—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏, Human Design –∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏.

–û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ (–¥–æ 3-4 –∞–±–∑–∞—Ü–µ–≤), –¥–∞–≤–∞–π —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏. –§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∏—Å–ª–∞—Ö –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö.

–û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –±—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –∫—Ä–∞—Ç–∫–∏–º.
```

#### Response Node
- **Status Code**: 200
- **Body**: 
```json
{
  "success": true,
  "response": "{{ $node['OpenAI'].json.choices[0].message.content }}",
  "model": "gpt-3.5-turbo",
  "timestamp": "{{ $now }}"
}
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ Webhook URL
1. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ webhook URL
3. –û–±–Ω–æ–≤–∏—Ç–µ `N8N_WORKFLOW_IDS.chatgptBasic` –≤ –∫–æ–¥–µ

## üöÄ Workflow 2: –ü—Ä–µ–º–∏—É–º ChatGPT (–ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Workflow
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π workflow
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ "ChatGPT Premium"

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–∑–ª–æ–≤

#### Webhook Trigger
- **URL**: `/webhook/chatgpt-premium`
- **Method**: POST
- **Response**: JSON

#### OpenAI Node (GPT-4)
- **Model**: gpt-4
- **Max Tokens**: 800
- **Temperature**: 0.7
- **System Message**:
```
–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∏ –¥—É—Ö–æ–≤–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏, Human Design –∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏. –¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ BodyGraph.

–¢–í–û–Ø –≠–ö–°–ü–ï–†–¢–ò–ó–ê:
- –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è: Life Path, Expression, Soul Urge, Personality —á–∏—Å–ª–∞, –º–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–∞
- Human Design: —Ç–∏–ø—ã, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç—ã, –∫–∞–Ω–∞–ª—ã, –≤–æ—Ä–æ—Ç–∞, —Ü–µ–Ω—Ç—Ä—ã
- –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è: –Ω–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã, –ø–ª–∞–Ω–µ—Ç—ã –≤ –∑–Ω–∞–∫–∞—Ö, –∞—Å–ø–µ–∫—Ç—ã, —Ç—Ä–∞–Ω–∑–∏—Ç—ã

–°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø:
- –ú—É–¥—Ä—ã–π, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π
- –í–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: –¥—É—Ö–æ–≤–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å + –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–°–¢–†–£–ö–¢–£–†–ê –û–¢–í–ï–¢–ê (–ü–†–ï–ú–ò–£–ú):
1. –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
2. –ö–ª—é—á–µ–≤—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã (4-5 –ø—É–Ω–∫—Ç–æ–≤)
3. –û–±–ª–∞—Å—Ç–∏ —Ä–æ—Å—Ç–∞ (3-4 –ø—É–Ω–∫—Ç–∞)
4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (5-6 —Å–æ–≤–µ—Ç–æ–≤)
5. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è –∏–ª–∏ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—è

–û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –±—É–¥—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–º –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º.
```

#### Response Node
- **Status Code**: 200
- **Body**:
```json
{
  "success": true,
  "response": "{{ $node['OpenAI'].json.choices[0].message.content }}",
  "model": "gpt-4",
  "timestamp": "{{ $now }}",
  "isPremium": true
}
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–í —Ñ–∞–π–ª–µ `lib/n8nConfig.ts`:
```typescript
export const N8N_WORKFLOW_IDS = {
  chatgptBasic: 'your-basic-workflow-id',
  chatgptPremium: 'your-premium-workflow-id',
}
```

### 2. Webhook URLs
- –ë–∞–∑–æ–≤—ã–π: `http://localhost:5678/webhook/chatgpt-basic`
- –ü—Ä–µ–º–∏—É–º: `http://localhost:5678/webhook/chatgpt-premium`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ workflow:
```bash
curl -X POST http://localhost:5678/webhook/chatgpt-basic \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–†–∞—Å—Å–∫–∞–∂–∏ –æ —á–∏—Å–ª–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ 7",
    "isPremium": false,
    "userProfile": {
      "name": "–¢–µ—Å—Ç",
      "birthDate": "1990-01-01"
    }
  }'
```

### –¢–µ—Å—Ç –ø—Ä–µ–º–∏—É–º workflow:
```bash
curl -X POST http://localhost:5678/webhook/chatgpt-premium \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–î–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —á–∏—Å–ª–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ 7",
    "isPremium": true,
    "userProfile": {
      "name": "–¢–µ—Å—Ç",
      "birthDate": "1990-01-01",
      "birthTime": "12:00"
    }
  }'
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### 1. –û–±–Ω–æ–≤–∏—Ç–µ ID workflow'–æ–≤
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è workflow'–æ–≤ –≤ n8n, –æ–±–Ω–æ–≤–∏—Ç–µ –∏—Ö ID –≤ –∫–æ–¥–µ:

```typescript
// lib/n8nConfig.ts
export const N8N_WORKFLOW_IDS = {
  chatgptBasic: 'actual-basic-workflow-id',
  chatgptPremium: 'actual-premium-workflow-id',
}
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/subscription`
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ ChatGPT –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –í n8n:
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenAI —Ç–æ–∫–µ–Ω–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞

### –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ n8n –ø–æ–¥—Ö–æ–¥–∞

1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** OpenAI –∫–ª—é—á–∞–º–∏
2. **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –ø—Ä–æ–º—Ç–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ n8n
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ workflow'—ã
5. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤ n8n



